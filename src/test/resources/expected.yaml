---
apiVersion: "pubsub.cnrm.cloud.google.com/v1beta1"
kind: "PubSubTopic"
metadata:
  name: "my-test-topic"
  namespace: "my-namespace"
spec:
  resourceID: "my-test-topic"
---
apiVersion: "iam.cnrm.cloud.google.com/v1beta1"
kind: "IAMPartialPolicy"
metadata:
  name: "my-test-topic-iampartialpolicy"
  namespace: "my-namespace"
spec:
  bindings:
  - members:
    - member: "serviceAccount:mysa@my-namespace.iam.gserviceaccount.com"
    role: "roles/pubsub.publisher"
  resourceRef:
    apiVersion: "pubsub.cnrm.cloud.google.com/v1beta1"
    external: "projects/my-namespace/topics/my-test-topic"
    kind: "PubSubTopic"
